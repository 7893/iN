# ğŸ§ª æµ‹è¯•è§„èŒƒä¸ç­–ç•¥  
ğŸ“„ æ–‡æ¡£åç§°ï¼štesting-guidelines-20250422.md  
ğŸ—“ï¸ æ›´æ–°æ—¶é—´ï¼š2025-04-22  

---

## ğŸ¯ æµ‹è¯•ç›®æ ‡

ç¡®ä¿æ‰€æœ‰æ¨¡å—å…·å¤‡è¶³å¤Ÿçš„æ­£ç¡®æ€§ã€ç¨³å®šæ€§ä¸å¯å›å½’èƒ½åŠ›ï¼Œæ”¯æŒ CI ä¸­è‡ªåŠ¨éªŒè¯ã€‚

---

## ğŸ“ æµ‹è¯•é‡‘å­—å¡”ç­–ç•¥

| å±‚çº§ | å·¥å…· | è¦†ç›–å†…å®¹ | è¦æ±‚ |
|------|------|----------|------|
| å•å…ƒæµ‹è¯• | Vitest | çº¯å‡½æ•°ã€å…±äº«é€»è¾‘ | âœ… å¿…éœ€ï¼Œè¦†ç›–ç‡ > 80% |
| é›†æˆæµ‹è¯• | wrangler dev + curl/postman | Worker ä¸ API äº¤äº’ | âœ… æ ¸å¿ƒæµç¨‹ |
| E2E æµ‹è¯•ï¼ˆå¯é€‰ï¼‰ | Playwright | å‰åç«¯è”åŠ¨ + ç”¨æˆ·è¡Œä¸º | ğŸ”„ åæœŸè¡¥å…… |

---

## âœ… å½“å‰æµ‹è¯•ç»„ä»¶å»ºè®®

- `packages/shared-libs/logger.ts` / `trace.ts` / `auth.ts` å¿…é¡»æœ‰ Vitest æµ‹è¯•
- æ‰€æœ‰ Queue æ¶ˆè´¹é€»è¾‘éœ€æµ‹è¯•å¹‚ç­‰æ€§ä¸å¼‚å¸¸å¤„ç†
- æ‰€æœ‰ API Worker éœ€æµ‹è¯•è®¤è¯å¤±è´¥ã€è¾“å…¥ä¸åˆæ³•ã€è¾¹ç•Œå€¼

---

## ğŸ§ª æœ¬åœ°æµ‹è¯•æ–¹å¼

```bash
# å•å…ƒæµ‹è¯•
pnpm test

# é›†æˆè°ƒè¯•
wrangler dev
curl http://localhost:8787/api
```
