# ğŸ“– iN é¡¹ç›®æŒ‡å— (Project Guidebook - æ¶æ„ç‰ˆæœ¬ 2025å¹´5æœˆ21æ—¥)
ğŸ“„ æ–‡æ¡£åç§°ï¼šproject-guidebook-20250521.md
ğŸ—“ï¸ æ›´æ–°æ—¶é—´ï¼š2025-05-21
---

## ğŸš€ 1. é¡¹ç›®ç®€ä»‹ä¸ä½¿å‘½

**é¡¹ç›®åç§°**: iN - Intelligent Image Infrastructure

**ä½¿å‘½ä¸æ„¿æ™¯**:
iN é¡¹ç›®æ—¨åœ¨æ„å»ºä¸€ä¸ªç°ä»£åŒ–çš„ã€åŸºäºå¤šäº‘ Serverless æ¶æ„çš„æ™ºèƒ½å›¾åƒå¤„ç†ä¸ç´¢å¼•ç³»ç»Ÿã€‚å®ƒä¸ä»…ä»…æ˜¯ä¸€ä¸ªåŠŸèƒ½æ€§çš„åº”ç”¨ï¼Œæ›´æ˜¯ä¸€ä¸ªæ¢ç´¢å’Œå®è·µå‰æ²¿è½¯ä»¶å·¥ç¨‹èŒƒå¼çš„å¹³å°ï¼ŒåŒ…æ‹¬äº‹ä»¶é©±åŠ¨æ¶æ„ã€åˆ†å¸ƒå¼çŠ¶æ€åè°ƒã€åŸºç¡€è®¾æ–½å³ä»£ç ã€å…¨é¢çš„å¯è§‚æµ‹æ€§ä»¥åŠAIè¾…åŠ©å¼€å‘ã€‚
**æ„¿æ™¯**ï¼šæˆä¸ºä¸€ä¸ªæ¸…æ™°ã€å¯å¤ç”¨ã€é«˜åº¦è‡ªåŠ¨åŒ–çš„å¤šäº‘ Serverless æ¶æ„è“æœ¬ï¼Œä¸ºä¸ªäººå¼€å‘è€…ã€å°å‹å›¢é˜Ÿæˆ–æ•™è‚²ç›®çš„æä¾›æœ‰ä»·å€¼çš„å‚è€ƒå’Œèµ·ç‚¹ï¼Œå¹¶ä¼˜å…ˆåˆ©ç”¨å„äº‘æœåŠ¡å•†çš„æ°¸ä¹…å…è´¹èµ„æºã€‚


**æ ¸å¿ƒç›®æ ‡**:
æ¼”ç¤ºä¸€ä¸ªåŠŸèƒ½å®Œæ•´ã€æ¶æ„ç°ä»£ã€å·¥ç¨‹å®è·µè§„èŒƒçš„å¤šäº‘ Serverless åº”ç”¨ï¼Œå¹¶å°½é‡åˆ©ç”¨å„å¹³å°çš„æ°¸ä¹…å…è´¹èµ„æºã€‚


**é¡¹ç›®å®šä½ (åŸºäº `README.md`)**:
iN æ˜¯ä¸€ä¸ªé¢å‘ç°ä»£è½¯ä»¶å·¥ç¨‹å®è·µçš„å…¨æ ˆæ¶æ„èŒƒä¾‹ï¼Œé€šè¿‡å®é™…æ„å»ºæ™ºèƒ½å›¾åƒå¤„ç†å¹³å°ï¼Œç³»ç»Ÿæ€§æ¼”ç¤ºä»¥ä¸‹èŒƒå¼è½åœ°ï¼š
- å¤šäº‘ Serverless æ¶æ„è®¾è®¡ï¼ˆVercel å‰ç«¯, Cloudflare è¾¹ç¼˜, GCPæ ¸å¿ƒåç«¯ï¼‰
- äº‹ä»¶é©±åŠ¨æœºåˆ¶ï¼ˆGoogle Cloud Pub/Sub ä¸ºæ ¸å¿ƒæ¶ˆæ¯é˜Ÿåˆ—ï¼‰
- Durable Object (Cloudflare DO) åˆ†å¸ƒå¼çŠ¶æ€ç®¡ç†
- å…¨é“¾è·¯ç»“æ„åŒ–æ—¥å¿— + Google Cloud Logging & Monitoring å¯è§‚æµ‹æ€§æ¥å…¥
- é›¶ä¿¡ä»»å®‰å…¨ + å¯†é’¥éš”ç¦»ç®¡ç†ï¼ˆGCP Identity Platform + å„å¹³å°Secretsï¼‰
- åŸºç¡€è®¾æ–½å³ä»£ç ï¼ˆIaCï¼‰ + è‡ªåŠ¨åŒ– CI/CD æµç¨‹ï¼ˆGitHub Actionsï¼‰

---

## âœ¨ 2. æ ¸å¿ƒç‰¹æ€§ä¸ä»·å€¼

**æ ¸å¿ƒç‰¹æ€§ (åŸºäº `project-overview-*.md`)**:
- **å¤šäº‘ååŒ**: ä¼˜é›…åœ°ç»“åˆ Vercel, Cloudflare, å’Œ GCP çš„ä¼˜åŠ¿ã€‚
- **Serverless è®¡ç®—**: ä¸»è¦ä¾èµ– CF Workers, GCP Cloud Functions/Runã€‚
- **äº‹ä»¶é©±åŠ¨æ ¸å¿ƒ**: GCP Pub/Sub é©±åŠ¨åç«¯æµç¨‹ã€‚
- **ç²¾ç»†åŒ–çŠ¶æ€ç®¡ç†**: Cloudflare Durable Objects (`TaskCoordinatorDO`)ã€‚
- **ç°ä»£åŒ–å‰ç«¯ä½“éªŒ**: Vercel å¹³å°ã€‚
- **å¼ºå¤§çš„ç”¨æˆ·è®¤è¯**: GCP Identity Platform (GCIP)ã€‚
- **å…¨é¢çš„å¯è§‚æµ‹æ€§**: GCP Cloud Logging & Monitoringã€‚
- **åŸºç¡€è®¾æ–½å³ä»£ç  (IaC)**: Terraformã€‚
- **è‡ªåŠ¨åŒ–CI/CD**: GitHub & GitHub Actionsã€‚
- **AIè¾…åŠ©å¼€å‘**: è®¾è®¡ã€æ–‡æ¡£å’Œéƒ¨åˆ†ä»£ç ç”Ÿæˆè¿‡ç¨‹é‡‡ç”¨AIå·¥å…·ã€‚

**é¡¹ç›®ä»·å€¼ä¸é¢„æœŸæˆæœ (åŸºäº `project-overview-*.md`)**:
- æŠ€æœ¯å®è·µå¹³å°ã€‚
- å¯å¤ç”¨ç»„ä»¶ä¸æ¨¡å¼ã€‚
- æˆæœ¬æ•ˆç›Šï¼ˆä¼˜å…ˆå…è´¹èµ„æºï¼‰ã€‚
- AIè¾…åŠ©å·¥ç¨‹æ¢ç´¢ã€‚
- æ–‡æ¡£é©±åŠ¨å¼€å‘ã€‚

---

## ğŸ› ï¸ 3. æŠ€æœ¯æ ˆä¸æ¶æ„

### 3.1. æŠ€æœ¯æ ˆæ¦‚è§ˆ
(ä¸ `README.md` ä¸­çš„æŠ€æœ¯æ ˆè¡¨æ ¼ä¸€è‡´ï¼Œæ­¤å¤„ä¸å†é‡å¤ï¼Œå¯é“¾æ¥æˆ–å¼•ç”¨ `README.md` æˆ– `architecture-summary-*.md`)
è¯¦æƒ…è¯·å‚è€ƒï¼š
- `README.md` -> "æ ¸å¿ƒæŠ€æœ¯æ ˆæ¦‚è§ˆ"
- `docs/architecture-summary-20250521.md` -> "æ ¸å¿ƒæ¶æ„æ„ä»¶"

### 3.2. æ ¸å¿ƒæ¶æ„åŸåˆ™
(ä¸ `README.md` ä¸­çš„æ¶æ„æŒ‡å¯¼åŸåˆ™ä¸€è‡´ï¼Œæ­¤å¤„ä¸å†é‡å¤ï¼Œå¯é“¾æ¥æˆ–å¼•ç”¨ `README.md`)
è¯¦æƒ…è¯·å‚è€ƒï¼š
- `README.md` -> "æ¶æ„æŒ‡å¯¼åŸåˆ™"
- `docs/architecture-summary-20250521.md` -> "æ¶æ„å…³é”®ç‰¹æ€§"

### 3.3. åŸºç¡€è®¾æ–½èµ„æº
æœ¬é¡¹ç›®ä½¿ç”¨çš„ä¸»è¦åŸºç¡€è®¾æ–½èµ„æºåˆ†å¸ƒåœ¨ Vercel, Cloudflare å’Œ GCPã€‚
è¯¦æƒ…è¯·å‚è€ƒï¼š`docs/infra-resources-detailed-20250521.md`

---

## âš™ï¸ 4. å·¥ç¨‹å®è·µä¸å¼€å‘æµç¨‹

### 4.1. å·¥ç¨‹ç»“æ„è®¾è®¡ (Monorepo)
- **ä»£ç ä»“åº“**: GitHub - `your-username/in-project` (è¯·æ›¿æ¢ä¸ºå®é™…åœ°å€)
- **Monorepo ç®¡ç†**: pnpm workspaces + Turborepo
- **ç›®å½•ç»“æ„**: `apps/`, `packages/`, `infra/`, `tools/`, `docs/`
è¯¦æƒ…è¯·å‚è€ƒï¼š`docs/engineering-practices-20250521.md` -> "å·¥ç¨‹ç»“æ„è®¾è®¡"

### 4.2. åˆ†æ”¯ç­–ç•¥ (GitHub)
- ä¸»è¦åˆ†æ”¯: `main` (ç”Ÿäº§), `dev` (å¼€å‘é›†æˆ)
- å¼€å‘æµç¨‹: `feature/*` -> `dev` -> (å¯é€‰ `release/*`) -> `main`
- ç´§æ€¥ä¿®å¤: `hotfix/*` (ä» `main` åˆ›å»ºï¼Œåˆå¹¶å› `main` å’Œ `dev`)
è¯¦æƒ…è¯·å‚è€ƒï¼š`docs/branch-strategy-20250521.md`

### 4.3. CI/CD (GitHub Actions)
- ç»Ÿä¸€ä½¿ç”¨ GitHub Actions è¿›è¡Œè‡ªåŠ¨åŒ–æµ‹è¯•ã€æ„å»ºå’Œå¤šå¹³å°éƒ¨ç½²ã€‚
- å…³é”®é˜¶æ®µ: Lint, Test, Build, Terraform Plan/Apply, Deploy Applicationsã€‚
è¯¦æƒ…è¯·å‚è€ƒï¼š`docs/ci-cd-structure-20250521.md`

### 4.4. å¼€å‘ä¸è¿œç¨‹ç¯å¢ƒäº¤äº’å·¥å…·
- ç”±äºé‡‡ç”¨è¿œç¨‹éƒ¨ç½²è¿›è¡Œå¼€å‘å’Œè°ƒè¯•ï¼Œæœ¬åœ°ä¸»è¦è¿›è¡Œç¼–ç å’Œå•å…ƒæµ‹è¯•ã€‚
- **æ ¸å¿ƒå·¥å…·**: Vercel CLI, Wrangler CLI, Google Cloud SDK (`gcloud`), Node.js, pnpm, Terraform CLI, Vitest, Git, GitHub CLI (`gh`)ã€‚
è¯¦æƒ…è¯·å‚è€ƒï¼š`docs/engineering-practices-20250521.md` -> "å¼€å‘ä¸è¿œç¨‹ç¯å¢ƒäº¤äº’å·¥å…·"

### 4.5. ç¼–ç ä¸é£æ ¼è§„èŒƒ
- **ä¸»è¦è¯­è¨€**: TypeScript
- **ä»£ç é£æ ¼**: ESLint + Prettier
- **é€šç”¨è§„åˆ™ã€å„å¹³å°ç¼–ç è§„èŒƒã€å®‰å…¨ä¸éªŒè¯è§„èŒƒ**
è¯¦æƒ…è¯·å‚è€ƒï¼š`docs/coding-guidelines-20250521.md`

### 4.6. æµ‹è¯•ç­–ç•¥
- **å±‚çº§åŒ–æµ‹è¯•**: å•å…ƒæµ‹è¯• (Vitest), ç»„ä»¶æµ‹è¯• (å‰ç«¯), é›†æˆæµ‹è¯• (å„å¹³å°æ¨¡æ‹Ÿå™¨/æœ¬åœ°æœåŠ¡), E2Eæµ‹è¯• (Playwright/Cypress)ã€‚
- **è‡ªåŠ¨åŒ–**: æ‰€æœ‰å…³é”®æµ‹è¯•é›†æˆåˆ° GitHub Actionsã€‚
è¯¦æƒ…è¯·å‚è€ƒï¼š`docs/testing-guidelines-20250521.md`

### 4.7. å®‰å…¨å®è·µ
- **èº«ä»½ä¸è®¿é—®ç®¡ç† (IAM)**: GCIP, GCP Service Accounts, Cloudflare IAMã€‚
- **å¯†é’¥ç®¡ç†**: GitHub Actions Secrets, Vercel Env Vars, CF Secrets, GCP Secret Managerã€‚
- **åº”ç”¨ä¸æœåŠ¡å®‰å…¨**: è¾“å…¥éªŒè¯ (Zod), è¾“å‡ºç¼–ç , CORS, WAF, Firestore/Datastore å®‰å…¨è§„åˆ™ç­‰ã€‚
è¯¦æƒ…è¯·å‚è€ƒï¼š`docs/secure-practices-20250521.md` (åŠ `security-checklist-*.md` ä½œä¸ºå…¶ä¸€éƒ¨åˆ†)

---

## ğŸ—ºï¸ 5. é¡¹ç›®è§„åˆ’ä¸å®æ–½

### 5.1. MVP å®ç°æ¸…å•
å®šä¹‰äº†æœ€å°å¯è¡Œäº§å“æ‰€éœ€çš„æ ¸å¿ƒåŠŸèƒ½ç‚¹ã€æµ‹è¯•ä¸éƒ¨ç½²è¦æ±‚ï¼Œä»¥åŠæˆåŠŸæ ‡å‡†ã€‚
è¯¦æƒ…è¯·å‚è€ƒï¼š`docs/mvp-manifest-20250521.md`

### 5.2. åˆ†é˜¶æ®µå®æ–½æ–¹æ¡ˆ
é¡¹ç›®ä»åˆå§‹åŒ–åˆ° MVP å®ç°å†åˆ°åç»­æ‰©å±•çš„é˜¶æ®µæ€§è®¡åˆ’ã€‚
è¯¦æƒ…è¯·å‚è€ƒï¼š`docs/phased-implementation-20250521.md`

### 5.3. å½“å‰ä»»åŠ¡æ¸…å•
è·Ÿè¸ªå½“å‰é˜¶æ®µéœ€è¦å®Œæˆçš„å…·ä½“ä»»åŠ¡ã€‚
è¯¦æƒ…è¯·å‚è€ƒï¼š`docs/action-checklist-20250521.md`

### 5.4. æœªæ¥è·¯çº¿å›¾
MVP å®Œæˆåå¯èƒ½çš„æ¼”è¿›æ–¹å‘å’ŒåŠŸèƒ½å¢å¼ºã€‚
è¯¦æƒ…è¯·å‚è€ƒï¼š`docs/future-roadmap-20250521.md`

---

## ğŸ“š 6. æ–‡æ¡£ä¸æ²Ÿé€š

- **æ–‡æ¡£é©±åŠ¨**: æœ¬é¡¹ç›®å¼ºè°ƒæ–‡æ¡£åœ¨å…ˆæˆ–ä¸å¼€å‘åŒæ­¥ï¼Œæ‰€æœ‰é‡è¦è®¾è®¡ã€å†³ç­–ã€æµç¨‹å‡éœ€æ–‡æ¡£åŒ–ã€‚
- **æ–‡æ¡£åº“**: æ‰€æœ‰æ–‡æ¡£å­˜å‚¨åœ¨ä»£ç ä»“åº“çš„ `docs/` ç›®å½•ä¸‹ï¼Œé‡‡ç”¨ Markdown æ ¼å¼ã€‚
- **ç‰ˆæœ¬ä¸æ›´æ–°**: æ–‡æ¡£æ–‡ä»¶åå’Œå†…å®¹ä¸­åŒ…å«ç‰ˆæœ¬æ—¥æœŸï¼Œä¾¿äºè¿½æº¯ã€‚æ¶æ„å˜æ›´ååŠæ—¶æ›´æ–°ç›¸å…³æ–‡æ¡£ã€‚
- **æ²Ÿé€šä¸åä½œ (ä¸AI)**: æ¸…æ™°æŒ‡ä»¤ã€è¿­ä»£åé¦ˆã€ä¾èµ–æ›´æ–°åçš„æ–‡æ¡£ã€‚

---

## ğŸ”— 7. å…³é”®èµ„æºä¸é“¾æ¥ (ç¤ºä¾‹)
- **Vercel Dashboard**: [https://vercel.com/dashboard](https://vercel.com/dashboard)
- **Cloudflare Dashboard**: [https://dash.cloudflare.com/](https://dash.cloudflare.com/)
- **Google Cloud Console**: [https://console.cloud.google.com/](https://console.cloud.google.com/)
- **GitHub Repository**: `https://github.com/7893/iN` (ä½ çš„ä»“åº“)
- **Terraform Registry**: [https://registry.terraform.io/](https://registry.terraform.io/)
- **Turborepo Docs**: [https://turborepo.org/docs](https://turborepo.org/docs)
- **pnpm Docs**: [https://pnpm.io/motivation](https://pnpm.io/motivation)

---

æœ¬æŒ‡å—æ—¨åœ¨ä¸º iN é¡¹ç›®çš„å‚ä¸è€…æä¾›ä¸€ä¸ªå…¨é¢çš„å…¥å£å’Œå‚è€ƒï¼Œå¸®åŠ©ç†è§£é¡¹ç›®ç›®æ ‡ã€æ¶æ„è®¾è®¡ã€å¼€å‘æµç¨‹å’Œå·¥ç¨‹è§„èŒƒã€‚è¯·å®šæœŸæŸ¥é˜…å¹¶å‚ä¸æ›´æ–°ã€‚