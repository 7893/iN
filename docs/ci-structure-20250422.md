# ğŸ› ï¸ CI/CD æµæ°´çº¿ç»“æ„è¯´æ˜  
ğŸ“„ æ–‡æ¡£åç§°ï¼šci-structure-20250422.md  
ğŸ—“ï¸ æ›´æ–°æ—¶é—´ï¼š2025-04-22  

---

## ğŸ¯ CI/CD ç›®æ ‡

é€šè¿‡ GitLab CI è‡ªåŠ¨å®ç°ä»£ç è´¨é‡æ£€æŸ¥ã€æ„å»ºã€èµ„æºç®¡ç†ä¸éƒ¨ç½²ï¼Œä¿è¯å‘å¸ƒæµç¨‹å¯æ§ã€å¯è§‚æµ‹ã€å¯æ¢å¤ã€‚

---

## âœ… æ ¸å¿ƒé˜¶æ®µæµç¨‹

```yaml
stages:
  - lint
  - test
  - build
  - plan
  - deploy
```

---

## ğŸ“¦ æ¯é˜¶æ®µä»»åŠ¡è¯´æ˜

| é˜¶æ®µ | å·¥å…· | æè¿° |
|------|------|------|
| lint | eslint | æ ¡éªŒä»£ç è§„èŒƒ |
| test | vitest | è¿è¡Œæ‰€æœ‰å•å…ƒæµ‹è¯• |
| build | turborepo | æ„å»ºå‰ç«¯ä¸ Worker |
| plan | terraform | IaC æ£€æŸ¥åŸºç¡€è®¾æ–½å˜æ›´ |
| deploy | wrangler, vercel | éƒ¨ç½²åˆ° Cloudflare / Vercel |

---

## ğŸ”‘ é…ç½®ç®¡ç†

- ä½¿ç”¨ `.env.secrets` ç®¡ç† Secrets
- ä½¿ç”¨ `tools/sync-to-gitlab.sh` åŒæ­¥åˆ° GitLab
- æ‰€æœ‰ ENV éšç§å˜é‡ä¸å¯ç¡¬ç¼–ç 

---

## ğŸš¥ åˆ†æ”¯è§¦å‘ç­–ç•¥

| åˆ†æ”¯ | è‡ªåŠ¨éƒ¨ç½² | è¯´æ˜ |
|------|----------|------|
| `main` | âœ… | Production |
| `dev` | âœ… | Preview |
| `feature/*` | âŒ | æ‰‹åŠ¨åˆå¹¶ |
